# 5ìž¥. ìƒíƒœ ê´€ë¦¬ì™€ ë¦¬ë•ìŠ¤ íŒ¨í‚¤ì§€

## ðŸ“š ëª©ì°¨

1. ë¦¬ë•ìŠ¤ ê¸°ë³¸ ê°œë… ì´í•´í•˜ê¸°
2. ë¦¬ë“€ì„œ í™œìš©í•˜ê¸°
3. ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ ì´í•´í•˜ê¸°
4. íŠ¸ë ë¡œ ë”°ë¼ ë§Œë“¤ê¸°

---

### ðŸ” ë¦¬ë•ìŠ¤ ê¸°ë³¸ ê°œë… ì´í•´í•˜ê¸°

- #### ë¦¬ë•ìŠ¤ì™€ ë¦¬ë•ìŠ¤ ê´€ë ¨ í•„ìˆ˜ íŒ¨í‚¤ì§€

  ë¦¬ì•¡íŠ¸ ì œìž‘ì‚¬ëŠ” ë¦¬ì•¡íŠ¸ë¥¼ ì²˜ìŒ ë°œí‘œí•  ë•Œ í”ŒëŸ­ìŠ¤ë¼ê³  ë¶€ë¥´ëŠ” ì•± ì„¤ê³„ ê·œê²©ì„ í•¨ê»˜ ë°œí‘œí–ˆìŠµë‹ˆë‹¤.  
  í”ŒëŸ­ìŠ¤ëŠ” ì•± ìˆ˜ì¤€ ìƒíƒœ, ì¦‰ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê³µìœ í•˜ëŠ” ìƒíƒœë¥¼ ë¦¬ì•¡íŠ¸ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ìž…ë‹ˆë‹¤.  
  ì´í›„ë¡œ í”ŒëŸ­ìŠ¤ ì„¤ê³„ ê·œê²©ì„ ì¤€ìˆ˜í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë“±ìž¥í–ˆëŠ”ë°, **ë¦¬ë•ìŠ¤**ëŠ” ê·¸ì¤‘ì—ì„œ ê°€ìž¥ ë§Žì´ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ìž…ë‹ˆë‹¤.

- #### ì•± ìˆ˜ì¤€ ìƒíƒœ ì•Œì•„ë³´ê¸°

  ì•±ì„ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ê³µìœ í•  ìˆ˜ ìžˆëŠ” ìƒíƒœë¥¼ **ì•± ìˆ˜ì¤€ ìƒíƒœ** ì¤„ì—¬ì„œ 'ì•± ìƒíƒœ'ë¼ê³  í•©ë‹ˆë‹¤.

  - #### Provider ì»´í¬ë„ŒíŠ¸ì™€ store ì†ì„±

    ë¦¬ë•ìŠ¤ëŠ” ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸ì— ê¸°ë°˜ì„ ë‘” ë¼ì´ë¸ŒëŸ¬ë¦¬ìž…ë‹ˆë‹¤. ì¦‰, ë¦¬ë•ìŠ¤ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸ì˜ Provider ì»´í¬ë„ŒíŠ¸ê°€ ìµœìƒìœ„ë¡œ ë™ìž‘í•´ì•¼ í•©ë‹ˆë‹¤.

  - #### ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì™€ ë¦¬ë“€ì„œ, ì•¡ì…˜ ì•Œì•„ë³´ê¸°

    **ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œ**ëŠ” AppState íƒ€ìž… ë°ì´í„°ë¥¼ ì €ìž¥í•˜ëŠ” ê³µê°„ìž…ë‹ˆë‹¤. ê·¸ëŸ°ë° ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œë¥¼ ìƒì„±í•˜ë ¤ë©´ ë¦¬ë“€ì„œë¼ëŠ” í•¨ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.  
    **ë¦¬ë“€ì„œ**ëŠ” í˜„ìž¬ ìƒíƒœì™€ ì•¡ì…˜ì´ë¼ëŠ” 2ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¡œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•©ë‹ˆë‹¤.

  - #### ìŠ¤í† ì–´ ê°ì²´ ê´€ë¦¬ í•¨ìˆ˜
    RTK(@reduxjs/toolkit) íŒ¨í‚¤ì§€ëŠ” ë¦¬ë“€ì„œì—ì„œ ë°˜í™˜í•œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ **ìŠ¤í† ì–´**ë¼ëŠ” ê°ì²´ë¡œ ì •ë¦¬í•´ ê´€ë¦¬í•˜ëŠ” configureStore í•¨ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

- #### useSelector í›… ì‚¬ìš©í•˜ê¸°

  useSelector í›…ì€ ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì— ì–´ë–¤ ë‚´ìš©ì´ ì €ìž¥ë˜ì—ˆëŠ”ì§€ ì•Œê³ ìž ìŠ¤í† ì–´ì˜ ìƒíƒ¯ê°’ì„ ë°˜í™˜í•´ ì¤ë‹ˆë‹¤.

  - #### ë¦¬ë•ìŠ¤ ì•¡ì…˜ ì•Œì•„ë³´ê¸°

    ë¦¬ë•ìŠ¤ì—ì„œ ì•¡ì…˜ì€ ì €ìž¥ì†Œì˜ íŠ¹ì • ì†ì„±ê°’ë§Œ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ìž…ë‹ˆë‹¤. ë¦¬ë•ìŠ¤ ì•¡ì…˜ì€ ë°˜ë“œì‹œ typeì´ëž€ ì´ë¦„ì˜ ì†ì„±ì´ ìžˆì–´ì•¼ í•©ë‹ˆë‹¤.  
    ì•¡ì…˜ì˜ type ì†ì„±ì€ ë¦¬ë“€ì„œì— switch~case ë¬¸ ê°™ì€ ë¶„ê¸°ë¬¸ì„ ì¨ì„œ type ì†ì„±ì— ë”°ë¼ ì ì ˆí•˜ê²Œ ë¶„ê¸°í•˜ë„ë¡ í•©ë‹ˆë‹¤.

  - #### ë¦¬ë•ìŠ¤ ë¦¬ë“€ì„œ ì•Œì•„ë³´ê¸°
    ë¦¬ë“€ì„œ í•¨ìˆ˜ì˜ ëª©ì ì€ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ë‹´ê¸´ ê³¼ê±° ìƒíƒ¯ê°’(prevState)ì„ ë°”íƒ•ìœ¼ë¡œ ìƒˆë¡œìš´ ìƒíƒ¯ê°’(newState)ì„ ë°˜í™˜í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.  
    'ë¦¬ë“€ì„œ'ë¼ëŠ” ì´ë¦„ì—ëŠ” prevStateì™€ action ë‘ ê°ì²´ë¥¼ ê²°í•©í•˜ì—¬ 1ê°œì˜ newStateë¡œ ì¤„ì´ëŠ” ìš©ë„ë¼ëŠ” ì˜ë¯¸ë¥¼ ë‚´í¬í•˜ê³  ìžˆìŠµë‹ˆë‹¤.  
    ê·¸ëŸ°ë° ë¦¬ë•ìŠ¤ì—ì„œ ë¦¬ë“€ì„œë¥¼ êµ¬í˜„í•  ë•ŒëŠ” preState, newStateë¼ëŠ” ì´ë¦„ ëŒ€ì‹  ê·¸ëƒ¥ stateë¥¼ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- #### useDispatch í›… ì‚¬ìš©í•˜ê¸°

  useDispatch í›…ì„ í˜¸ì¶œí•˜ë©´ `dispatch()` í•¨ìˆ˜ë¥¼ ì–»ì„ ìˆ˜ ìžˆëŠ”ë°, ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì— ì €ìž¥ëœ AppState ê°ì²´ì˜ ë©¤ë²„ ì „ë¶€ë‚˜ ì¼ë¶€ë¥¼ ë³€ê²½í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

  - #### dispatch í•¨ìˆ˜ì™€ ë¦¬ë“€ì„œ ê°„ì˜ ê´€ê³„ ì´í•´í•˜ê¸°

    ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì™€ ë¦¬ë“€ì„œ ê·¸ë¦¬ê³  ì•¡ì…˜ê³¼ `dispatch()` í•¨ìˆ˜ì˜ ê´€ê³„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

    ```mermaid
    flowchart LR
    A["dispatch(ì•¡ì…˜)"] --> B[ë¦¬ë“€ì„œ] --> C[ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œ];
    ```

    ì´ ê·¸ë¦¼ì€ ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì— ì €ìž¥ëœ ì•± ìˆ˜ì¤€ ìƒíƒœì˜ ì¼ë¶€ ì†ì„±ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ ì¼ë‹¨ ì•¡ì…˜ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
    ê·¸ë¦¬ê³  ì•¡ì…˜ì€ ë°˜ë“œì‹œ `dispatch()` í•¨ìˆ˜ë¡œ ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì— ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.  
    ê·¸ë¦¬ê³  ì•¡ì…˜ì´ ë¦¬ë•ìŠ¤ ì €ìž¥ì†Œì— ì „ë‹¬ë  ë•Œ ë¦¬ë“€ì„œê°€ ê´€ì—¬í•©ë‹ˆë‹¤.  
    ë˜í•œ ë¦¬ë“€ì„œì— ì „ë‹¬ë˜ëŠ” ë‘ ë§¤ê°œë³€ìˆ˜ëŠ” ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤.

    > function reducer(state, action)

    ë¦¬ë•ìŠ¤ ì €ìž¥ì†ŒëŠ” ì•± ìˆ˜ì¤€ ìƒíƒœë¥¼ ì €ìž¥í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë¯€ë¡œ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì¸ stateë¥¼ ë§Œë“¤ ìˆ˜ ìžˆìŠµë‹ˆë‹¤.  
    ë˜í•œ ì•¡ì…˜ì€ ë°˜ë“œì‹œ `dispatch()` í•¨ìˆ˜ë¡œ ì „ë‹¬ë˜ë¯€ë¡œ `dispatch(ì•¡ì…˜)` ì½”ë“œê°€ ì‹¤í–‰ë˜ë©´ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ actionì´ ë¦¬ë“€ì„œë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.

- #### useReducer í›… ì‚¬ìš©í•˜ê¸°

  useReducer í›…ì€ ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œì™€ ì‚¬ì‹¤ìƒ ë˜‘ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
  useReducer í›…ì€ ì»¨í…ìŠ¤íŠ¸ ì—†ì´ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¦¬ë•ìŠ¤ì˜ ìƒíƒœëŠ” ì•±ì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìžˆì§€ë§Œ(ì „ì—­ ìƒíƒœ), useReducer í›…ì˜ ìƒíƒœëŠ” ë‹¤ë¥¸ í›… í•¨ìˆ˜ë“¤ì²˜ëŸ¼ useReducer í›…ì„ í˜¸ì¶œí•œ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œë§Œ ìœ íš¨í•˜ë‹¤ëŠ”(ì§€ì—­ ìƒíƒœ) ì°¨ì´ê°€ ìžˆìŠµë‹ˆë‹¤.  
  useReducer í›…ì˜ ì‚¬ìš©ë²•ì€ ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤.

  > const [ìƒíƒœ, dispatch] = useReducer(ë¦¬ë“€ì„œ, ìƒíƒœ\_ì´ˆê¹ƒê°’)

  ê·¸ëŸ°ë° ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œì™€ useReducer í›…ì€ ì´ˆê¸° ìƒíƒ¯ê°’ì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì— ì°¨ì´ê°€ ìžˆìŠµë‹ˆë‹¤.  
  ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œëŠ” ë¦¬ë“€ì„œì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ê¸°ë³¸ê°’ì„ ì„¤ì •í•˜ëŠ” ë°˜ë©´ useReducer í›…ì€ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ì´ˆê¹ƒê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.

  ```javascript
  // ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œ ê¸°ë³¸ê°’ ì„¤ì • ë°©ë²•
  const initialState: AppState = {
    today: new Date(),
  };
  export const rootReducer = (
    state: AppState = initialState,
    action: AppActions
  ) => {};
  ```

  ```javascript
  // useReducer í›… ì´ˆê¸° ìƒíƒ¯ê°’ ì„¤ì • ë°©ë²•
  useReducer((state: AppState, action: AppActions) => {}, {
    today: new Date(),
  });
  ```
