# 5ì¥. ìƒíƒœ ê´€ë¦¬ì™€ ë¦¬ë•ìŠ¤ íŒ¨í‚¤ì§€

## ğŸ“š ëª©ì°¨

1. ë¦¬ë•ìŠ¤ ê¸°ë³¸ ê°œë… ì´í•´í•˜ê¸°
2. ë¦¬ë“€ì„œ í™œìš©í•˜ê¸°
3. ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ ì´í•´í•˜ê¸°
4. íŠ¸ë ë¡œ ë”°ë¼ ë§Œë“¤ê¸°

---

### ğŸ” ë¦¬ë•ìŠ¤ ê¸°ë³¸ ê°œë… ì´í•´í•˜ê¸°

- #### ë¦¬ë•ìŠ¤ì™€ ë¦¬ë•ìŠ¤ ê´€ë ¨ í•„ìˆ˜ íŒ¨í‚¤ì§€

  ë¦¬ì•¡íŠ¸ ì œì‘ì‚¬ëŠ” ë¦¬ì•¡íŠ¸ë¥¼ ì²˜ìŒ ë°œí‘œí•  ë•Œ í”ŒëŸ­ìŠ¤ë¼ê³  ë¶€ë¥´ëŠ” ì•± ì„¤ê³„ ê·œê²©ì„ í•¨ê»˜ ë°œí‘œí–ˆìŠµë‹ˆë‹¤.  
  í”ŒëŸ­ìŠ¤ëŠ” ì•± ìˆ˜ì¤€ ìƒíƒœ, ì¦‰ ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ê³µìœ í•˜ëŠ” ìƒíƒœë¥¼ ë¦¬ì•¡íŠ¸ ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.  
  ì´í›„ë¡œ í”ŒëŸ­ìŠ¤ ì„¤ê³„ ê·œê²©ì„ ì¤€ìˆ˜í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë“±ì¥í–ˆëŠ”ë°, **ë¦¬ë•ìŠ¤**ëŠ” ê·¸ì¤‘ì—ì„œ ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” íŒ¨í‚¤ì§€ì…ë‹ˆë‹¤.

- #### ì•± ìˆ˜ì¤€ ìƒíƒœ ì•Œì•„ë³´ê¸°

  ì•±ì„ êµ¬ì„±í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ê°€ í•¨ê»˜ ê³µìœ í•  ìˆ˜ ìˆëŠ” ìƒíƒœë¥¼ **ì•± ìˆ˜ì¤€ ìƒíƒœ** ì¤„ì—¬ì„œ 'ì•± ìƒíƒœ'ë¼ê³  í•©ë‹ˆë‹¤.

  - #### Provider ì»´í¬ë„ŒíŠ¸ì™€ store ì†ì„±

    ë¦¬ë•ìŠ¤ëŠ” ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸ì— ê¸°ë°˜ì„ ë‘” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì¦‰, ë¦¬ë•ìŠ¤ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸ì˜ Provider ì»´í¬ë„ŒíŠ¸ê°€ ìµœìƒìœ„ë¡œ ë™ì‘í•´ì•¼ í•©ë‹ˆë‹¤.

  - #### ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì™€ ë¦¬ë“€ì„œ, ì•¡ì…˜ ì•Œì•„ë³´ê¸°

    **ë¦¬ë•ìŠ¤ ì €ì¥ì†Œ**ëŠ” AppState íƒ€ì… ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” ê³µê°„ì…ë‹ˆë‹¤. ê·¸ëŸ°ë° ë¦¬ë•ìŠ¤ ì €ì¥ì†Œë¥¼ ìƒì„±í•˜ë ¤ë©´ ë¦¬ë“€ì„œë¼ëŠ” í•¨ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤.  
    **ë¦¬ë“€ì„œ**ëŠ” í˜„ì¬ ìƒíƒœì™€ ì•¡ì…˜ì´ë¼ëŠ” 2ê°€ì§€ ë§¤ê°œë³€ìˆ˜ë¡œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ ë§Œë“¤ì–´ì„œ ë°˜í™˜í•©ë‹ˆë‹¤.

  - #### ìŠ¤í† ì–´ ê°ì²´ ê´€ë¦¬ í•¨ìˆ˜
    RTK(@reduxjs/toolkit) íŒ¨í‚¤ì§€ëŠ” ë¦¬ë“€ì„œì—ì„œ ë°˜í™˜í•œ ìƒˆë¡œìš´ ìƒíƒœë¥¼ **ìŠ¤í† ì–´**ë¼ëŠ” ê°ì²´ë¡œ ì •ë¦¬í•´ ê´€ë¦¬í•˜ëŠ” configureStore í•¨ìˆ˜ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

- #### useSelector í›… ì‚¬ìš©í•˜ê¸°

  useSelector í›…ì€ ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì— ì–´ë–¤ ë‚´ìš©ì´ ì €ì¥ë˜ì—ˆëŠ”ì§€ ì•Œê³ ì ìŠ¤í† ì–´ì˜ ìƒíƒ¯ê°’ì„ ë°˜í™˜í•´ ì¤ë‹ˆë‹¤.

  - #### ë¦¬ë•ìŠ¤ ì•¡ì…˜ ì•Œì•„ë³´ê¸°

    ë¦¬ë•ìŠ¤ì—ì„œ ì•¡ì…˜ì€ ì €ì¥ì†Œì˜ íŠ¹ì • ì†ì„±ê°’ë§Œ ë³€ê²½í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤. ë¦¬ë•ìŠ¤ ì•¡ì…˜ì€ ë°˜ë“œì‹œ typeì´ë€ ì´ë¦„ì˜ ì†ì„±ì´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.  
    ì•¡ì…˜ì˜ type ì†ì„±ì€ ë¦¬ë“€ì„œì— switch~case ë¬¸ ê°™ì€ ë¶„ê¸°ë¬¸ì„ ì¨ì„œ type ì†ì„±ì— ë”°ë¼ ì ì ˆí•˜ê²Œ ë¶„ê¸°í•˜ë„ë¡ í•©ë‹ˆë‹¤.

  - #### ë¦¬ë•ìŠ¤ ë¦¬ë“€ì„œ ì•Œì•„ë³´ê¸°
    ë¦¬ë“€ì„œ í•¨ìˆ˜ì˜ ëª©ì ì€ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ë‹´ê¸´ ê³¼ê±° ìƒíƒ¯ê°’(prevState)ì„ ë°”íƒ•ìœ¼ë¡œ ìƒˆë¡œìš´ ìƒíƒ¯ê°’(newState)ì„ ë°˜í™˜í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.  
    'ë¦¬ë“€ì„œ'ë¼ëŠ” ì´ë¦„ì—ëŠ” prevStateì™€ action ë‘ ê°ì²´ë¥¼ ê²°í•©í•˜ì—¬ 1ê°œì˜ newStateë¡œ ì¤„ì´ëŠ” ìš©ë„ë¼ëŠ” ì˜ë¯¸ë¥¼ ë‚´í¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.  
    ê·¸ëŸ°ë° ë¦¬ë•ìŠ¤ì—ì„œ ë¦¬ë“€ì„œë¥¼ êµ¬í˜„í•  ë•ŒëŠ” preState, newStateë¼ëŠ” ì´ë¦„ ëŒ€ì‹  ê·¸ëƒ¥ stateë¥¼ ì£¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤.

- #### useDispatch í›… ì‚¬ìš©í•˜ê¸°

  useDispatch í›…ì„ í˜¸ì¶œí•˜ë©´ `dispatch()` í•¨ìˆ˜ë¥¼ ì–»ì„ ìˆ˜ ìˆëŠ”ë°, ì´ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì— ì €ì¥ëœ AppState ê°ì²´ì˜ ë©¤ë²„ ì „ë¶€ë‚˜ ì¼ë¶€ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

  - #### dispatch í•¨ìˆ˜ì™€ ë¦¬ë“€ì„œ ê°„ì˜ ê´€ê³„ ì´í•´í•˜ê¸°

    ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì™€ ë¦¬ë“€ì„œ ê·¸ë¦¬ê³  ì•¡ì…˜ê³¼ `dispatch()` í•¨ìˆ˜ì˜ ê´€ê³„ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

    ```mermaid
    flowchart LR
    A["dispatch(ì•¡ì…˜)"] --> B[ë¦¬ë“€ì„œ] --> C[ë¦¬ë•ìŠ¤ ì €ì¥ì†Œ];
    ```

    ì´ ê·¸ë¦¼ì€ ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì— ì €ì¥ëœ ì•± ìˆ˜ì¤€ ìƒíƒœì˜ ì¼ë¶€ ì†ì„±ê°’ì„ ë³€ê²½í•˜ë ¤ë©´ ì¼ë‹¨ ì•¡ì…˜ì„ ë§Œë“¤ì–´ì•¼ í•œë‹¤ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤.  
    ê·¸ë¦¬ê³  ì•¡ì…˜ì€ ë°˜ë“œì‹œ `dispatch()` í•¨ìˆ˜ë¡œ ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì— ì „ë‹¬í•´ì•¼ í•©ë‹ˆë‹¤.  
    ê·¸ë¦¬ê³  ì•¡ì…˜ì´ ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì— ì „ë‹¬ë  ë•Œ ë¦¬ë“€ì„œê°€ ê´€ì—¬í•©ë‹ˆë‹¤.  
    ë˜í•œ ë¦¬ë“€ì„œì— ì „ë‹¬ë˜ëŠ” ë‘ ë§¤ê°œë³€ìˆ˜ëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

    > function reducer(state, action)

    ë¦¬ë•ìŠ¤ ì €ì¥ì†ŒëŠ” ì•± ìˆ˜ì¤€ ìƒíƒœë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì´ ëª©ì ì´ë¯€ë¡œ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì¸ stateë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    ë˜í•œ ì•¡ì…˜ì€ ë°˜ë“œì‹œ `dispatch()` í•¨ìˆ˜ë¡œ ì „ë‹¬ë˜ë¯€ë¡œ `dispatch(ì•¡ì…˜)` ì½”ë“œê°€ ì‹¤í–‰ë˜ë©´ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ actionì´ ë¦¬ë“€ì„œë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.

- #### useReducer í›… ì‚¬ìš©í•˜ê¸°

  useReducer í›…ì€ ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œì™€ ì‚¬ì‹¤ìƒ ë˜‘ê°™ì€ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.  
  useReducer í›…ì€ ì»¨í…ìŠ¤íŠ¸ ì—†ì´ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ë¦¬ë•ìŠ¤ì˜ ìƒíƒœëŠ” ì•±ì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ì ‘ê·¼í•  ìˆ˜ ìˆì§€ë§Œ(ì „ì—­ ìƒíƒœ), useReducer í›…ì˜ ìƒíƒœëŠ” ë‹¤ë¥¸ í›… í•¨ìˆ˜ë“¤ì²˜ëŸ¼ useReducer í›…ì„ í˜¸ì¶œí•œ ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œë§Œ ìœ íš¨í•˜ë‹¤ëŠ”(ì§€ì—­ ìƒíƒœ) ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.  
  useReducer í›…ì˜ ì‚¬ìš©ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

  > const [ìƒíƒœ, dispatch] = useReducer(ë¦¬ë“€ì„œ, ìƒíƒœ\_ì´ˆê¹ƒê°’)

  ê·¸ëŸ°ë° ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œì™€ useReducer í›…ì€ ì´ˆê¸° ìƒíƒ¯ê°’ì„ ì„¤ì •í•˜ëŠ” ë¶€ë¶„ì— ì°¨ì´ê°€ ìˆìŠµë‹ˆë‹¤.  
  ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œëŠ” ë¦¬ë“€ì„œì˜ ì²« ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ê¸°ë³¸ê°’ì„ ì„¤ì •í•˜ëŠ” ë°˜ë©´ useReducer í›…ì€ ë‘ ë²ˆì§¸ ë§¤ê°œë³€ìˆ˜ì— ì´ˆê¹ƒê°’ì„ ì„¤ì •í•©ë‹ˆë‹¤.

  ```javascript
  // ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œ ê¸°ë³¸ê°’ ì„¤ì • ë°©ë²•
  const initialState: AppState = {
    today: new Date(),
  };
  export const rootReducer = (
    state: AppState = initialState,
    action: AppActions
  ) => {};
  ```

  ```javascript
  // useReducer í›… ì´ˆê¸° ìƒíƒ¯ê°’ ì„¤ì • ë°©ë²•
  useReducer((state: AppState, action: AppActions) => {}, {
    today: new Date(),
  });
  ```

### ğŸ” ë¦¬ë“€ì„œ í™œìš©í•˜ê¸°

- #### ë¦¬ë“€ì„œ í•©ì¹˜ê¸°

  `combinedReducers()` í•¨ìˆ˜ëŠ” ì—¬ëŸ¬ ë¦¬ë“€ì„œë¥¼ í†µí•©í•˜ì—¬ ìƒˆë¡œìš´ ë¦¬ë“€ì„œë¥¼ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.  
  `combinedReducers()` í•¨ìˆ˜ëŠ” ë¦¬ë•ìŠ¤ ê´€ë ¨ ì½”ë“œë¥¼ ì–´ë–¤ ê¸°ê³„ì ì¸ íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤.

  - #### '@ì´ë¦„/' ì ‘ë‘ì‚¬ì™€ payloadë¼ëŠ” ë³€ìˆ˜ ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ  ì•Œê¸°

    `combinedReducers()` ë¦¬ë“€ì„œì— ì•¡ì…˜ì´ ìœ ì…ë˜ë©´, íŠ¹ì • ë¦¬ë“€ì„œë¿ë§Œ ì•„ë‹ˆë¼ `combinedReducers()`ê°€ ê²°í•©í•œ ëª¨ë“  ë¦¬ë“€ì„œì— ì•¡ì…˜ì´ ì „ì†¡ë©ë‹ˆë‹¤.  
    ë”°ë¼ì„œ ì•¡ì…˜ íƒ€ì…ì„ í‰ë²”í•˜ê²Œ ì ‘ë‘ì‚¬ê°€ ì—†ëŠ” ì´ë¦„ìœ¼ë¡œ ì§€ìœ¼ë©´ typeê°’ì´ ê²¹ì¹  ìˆ˜ ìˆìœ¼ë©°, ì˜ë„í•˜ì§€ ì•Šì€ ë¦¬ë“€ì„œê°€ ìì‹ ì˜ ê²ƒì´ ì•„ë‹Œ ì•¡ì…˜ì„ ì²˜ë¦¬í•˜ë‹¤ê°€ ì˜¤ë¥˜ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.  
    ì´ëŸ° ì´ë¦„ ì¶©ëŒì„ ë°©ì§€í•˜ëŠ” íš¨ê³¼ì ì¸ ë°©ë²•ì´ `@ì´ë¦„/` ì ‘ë‘ì‚¬ë¥¼ type ì´ë¦„ ì•ì— ë¶™ì´ëŠ” ê²ƒì…ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì•¡ì…˜ì˜ í–‰ì„ ì§€ê°€ ë¶„ëª…í•´ì ¸ì„œ ì´ë¦„ ì¶©ëŒì´ ë°œìƒí•˜ëŠ” ì½”ë“œë¥¼ ë¯¸ì—°ì— ë°©ì§€í•  ìˆ˜ ìˆê³  ê°€ë…ì„±ë„ ì¢‹ì•„ì§‘ë‹ˆë‹¤.  
    ê·¸ë¦¬ê³  payloadë¼ëŠ” ì´ë¦„ì„ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ê·œëª¨ê°€ í° ì•±ì„ ê°œë°œí•˜ë‹¤ ë³´ë©´ AppStateë¥¼ êµ¬ì„±í•˜ëŠ” ë©¤ë²„ ìƒíƒœì˜ íƒ€ì…ë“¤ì´ ìˆ˜ì‹œë¡œ ë³€í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

  - #### ë¦¬ë“€ì„œëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤
    ë¦¬ë•ìŠ¤ëŠ” ë¦¬ë•ìŠ¤ ì €ì¥ì†Œì— ì €ì¥ëœ ê³¼ê±° ìƒíƒœì™€ ë¦¬ë“€ì„œ í•¨ìˆ˜ê°€ ë°˜í™˜í•˜ëŠ” í˜„ì¬ ìƒíƒœë¥¼ `if(ê³¼ê±°_ìƒíƒœ !== í˜„ì¬_ìƒíƒœ)` ë°©ì‹ìœ¼ë¡œ ë¹„êµí•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ì´ëŸ° í˜•íƒœì˜ ë¹„êµê°€ ê°€ëŠ¥í•˜ë ¤ë©´ ë¦¬ë“€ì„œ í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ í˜„ì¬ ìƒíƒœëŠ” ê³¼ê±° ìƒíƒœë¥¼ ê¹Šì€ ë³µì‚¬í•´ì•¼ í•˜ë©°, ì´ ë•Œë¬¸ì— ë¦¬ë•ìŠ¤ì˜ ë¦¬ë“€ì„œëŠ” ë°˜ë“œì‹œ ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.  
    í•¨ìˆ˜í˜• ì–¸ì–´ ë¶„ì•¼ì—ì„œ **ìˆœìˆ˜ í•¨ìˆ˜**ëŠ” ë‹¤ìŒ ìš”ê±´ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤. ë§Œì•½ ë‹¤ìŒ ìš”ê±´ì„ ë§Œì¡±í•˜ì§€ ì•Šìœ¼ë©´ **ë¶ˆìˆœ í•¨ìˆ˜**ë¼ê³  í•˜ë©°, ë‹¤ìŒ ìš”ê±´ì„ ë§Œì¡±í•˜ì§€ ì•ŠëŠ” ê²½ìš°ë¥¼ **ë¶€ì‘ìš©**ì´ë¼ê³  í•©ë‹ˆë‹¤.
    - í•¨ìˆ˜ ëª¸í†µì—ì„œ ì…ë ¥ ë§¤ê°œë³€ìˆ˜ì˜ ê°’ì„ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤(ì¦‰, ì…ë ¥ ë§¤ê°œë³€ìˆ˜ëŠ” ìƒìˆ˜ë‚˜ ì½ê¸° ì „ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•œë‹¤).
    - í•¨ìˆ˜ëŠ” í•¨ìˆ˜ ëª¸í†µì—ì„œ ë§Œë“¤ì–´ì§„ ê²°ê³¼ë¥¼ ì¦‰ì‹œ ë°˜í™˜í•œë‹¤.
    - í•¨ìˆ˜ ë‚´ë¶€ì— ì „ì—­ ë³€ìˆ˜ë‚˜ ì •ì  ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.
    - í•¨ìˆ˜ê°€ ì˜ˆì™¸ë¥¼ ë°œìƒì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
    - í•¨ìˆ˜ê°€ ì½œë°± í•¨ìˆ˜ í˜•íƒœë¡œ êµ¬í˜„ë˜ì–´ ìˆê±°ë‚˜, í•¨ìˆ˜ ëª¸í†µì— ì½œë°± í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œê°€ ì—†ë‹¤.
    - í•¨ìˆ˜ ëª¸í†µì— Promiseì²˜ëŸ¼ ë¹„ë™ê¸° ë°©ì‹ìœ¼ë¡œ ë™ì‘í•˜ëŠ” ì½”ë“œê°€ ì—†ë‹¤.

### ğŸ” ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ ì´í•´í•˜ê¸°

ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ëŠ” ë¦¬ë“€ì„œê°€ ë°˜ë“œì‹œ ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•œë‹¤ëŠ” ì¡°ê±´ì„ ë³´ì™„í•´ ì£¼ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

- #### ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ë€?

  ë¦¬ë“€ì„œëŠ” ìˆœìˆ˜ í•¨ìˆ˜ì—¬ì•¼ í•˜ê¸° ë•Œë¬¸ì— í•¨ìˆ˜ ëª¸í†µì—ì„œëŠ” ë¶€ì‘ìš©ì„ ì¼ìœ¼í‚¤ëŠ” ì½”ë“œë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° ì´ ì ì€ ë¦¬ë•ìŠ¤ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ë³µì¡í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.  
  ë‹¤ìŒ ê·¸ë¦¼ì—ì„œ ë³´ë“¯ ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ëŠ” ë¦¬ë“€ì„œ ì• ë‹¨ì—ì„œ ë¶€ì‘ìš©ì´ ìˆëŠ” ì½”ë“œë“¤ì„ ì‹¤í–‰í•˜ì—¬ ì–»ì€ ê²°ê³¼ë¥¼ ë¦¬ë“€ì„œ ìª½ìœ¼ë¡œ ë„˜ê²¨ì£¼ëŠ” ì—­í• ì„ í•©ë‹ˆë‹¤.

  ```mermaid
  flowchart LR
  A["dispatch(ì•¡ì…˜)"] --> B[ë¯¸ë“¤ì›¨ì–´] --> C[ë¦¬ë“€ì„œ] --> D[ë¦¬ë•ìŠ¤ ì €ì¥ì†Œ];
  ```

  ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ëŠ” ë‹¤ìŒ í˜•íƒœì˜ 2ì°¨ ê³ ì°¨ í•¨ìˆ˜ì…ë‹ˆë‹¤.

  ```javascript
  import { Action, Dispatch } from "redux";

  export function someMiddleware<S = any>({
    dispatch: Dispatch,
    getState,
  }: {
    getState: () => S,
  }) {
    return (next: Dispatch) => (action: Action) => {
      const returnValue = next(action);
      return returnValue;
    };
  }
  ```

  ì—¬ê¸°ì„œ DispatchëŠ” useDispatch í›…ìœ¼ë¡œ ì–»ì„ ìˆ˜ ìˆëŠ” `dispatch()` í•¨ìˆ˜ì˜ íƒ€ì…ê³¼ ê°™ìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ëŠ” í•­ìƒ actionì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ëŠ” í•¨ìˆ˜ë¥¼ ë°˜í™˜í•´ì•¼ í•©ë‹ˆë‹¤.  
  ê·¸ëŸ°ë° ë§Œì¼ ë¯¸ë“¤ì›¨ì–´ê°€ ì•„ë¬´ëŸ° ì¼ë„ ì•ˆ í•œë‹¤ë©´, ë¦¬ë•ìŠ¤ ì €ì¥ì†Œë¡œ ìœ ì…ë˜ëŠ” ëª¨ë“  ì•¡ì…˜ì´ ë¦¬ë“€ì„œë¡œ ìœ ì…ë˜ì§€ ëª»í•˜ë¯€ë¡œ, ë¦¬ë•ìŠ¤ëŠ” ìì‹ ì˜ ê¸°ëŠ¥ì„ ì •ìƒì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë”°ë¼ì„œ ë¯¸ë“¤ì›¨ì–´ëŠ” nextê°€ ë°˜í™˜í•œ ì•¡ì…˜ì„ ë°˜í™˜í•´ ë‹¤ë¥¸ ë¯¸ë“¤ì›¨ì–´ë„ í•¨ê»˜ ë™ì‘í•  ìˆ˜ ìˆê²Œ í•´ì•¼ í•©ë‹ˆë‹¤.

- #### ì½í¬ ë¯¸ë“¤ì›¨ì–´ ì•Œì•„ë³´ê¸°
  redux-thunk íŒ¨í‚¤ì§€ëŠ” ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ì…ë‹ˆë‹¤.  
  ì•ì„œ ë¦¬ë•ìŠ¤ ë¯¸ë“¤ì›¨ì–´ê°€ 2ì°¨ ê³ ì°¨ í•¨ìˆ˜ë¼ê³  ì„¤ëª…í•œ ì ì´ ìˆëŠ”ë°, ì½í¬ëŠ” actionì˜ íƒ€ì…ì´ í•¨ìˆ˜ë©´ actionì„ í•¨ìˆ˜ë¡œì„œ í˜¸ì¶œí•´ ì£¼ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•œ ë¯¸ë“¤ì›¨ì–´ì…ë‹ˆë‹¤.  
  ì´ì— ë”°ë¼ ì½í¬ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¥ì°©í•˜ë©´ ë‹¤ìŒì²˜ëŸ¼ dispatch í•¨ìˆ˜ë¥¼ ë§¤ê°œë³€ìˆ˜ë¡œ ìˆ˜ì‹ í•˜ëŠ” í•¨ìˆ˜ í˜•íƒœë¡œ ì•¡ì…˜ ìƒì„±ê¸°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  ```javascript
  const functionAction = (dispatch: Dispatch) => {
    dispatch(someAction);
  };
  ```
